{% extends 'base.html' %}
{% load static %}
{% block content %}
{% include 'navbar.html' %}
<head>
    <title>Warmindawg</title>
</head>
<body>
    <div class="add-menu" style="justify-content: center; text-align: center; display: flex; gap: 20px; margin-bottom: 20px">
        <a href="{% url 'home:logout' %}" >
            <button class="w-full px-4 py-2 text-white bg-red-500 hover:bg-red-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">
                <strong>Logout</strong>
            </button>
        </a>
        <a href="{% url 'home:add_menu_item' %}">
            <button class="w-full px-4 py-2 text-white bg-orange-500 hover:bg-orange-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-600 focus:ring-opacity-50">
                <strong>Tambahkan Menu</strong>
            </button>
        </a>
    </div>
    <p style="text-align: center;">
        🔥🧑🏻‍🍳 Pemasak Warmindawg hari ini: <br /> 
        <strong>
            {{ nama }} dari {{ kelas }}
        </strong>
    </p>
    {% if not items %}
        <h3 class="text-center pt-8 text-xl text-red-500">Tidak ada menu yang tersedia</h3>
    {% else %}
    <h3 class="text-center pt-8 text-xl text-red-500">
        <strong>Menu:</strong>
    </h3>
    <ul>
        {% for item in items %}
        <li>
            <img src="{{ item.image }}" alt="{{ item.name }}" class="fixed-image">
            <p class="pt-4">
            <strong>{{ item.name }}</strong>
            </p>
            <p class="text-red-500 font-bold">
                Rp{{ item.price }}.000
            </p>
            <p class="product-description pt-4">
                {{ item.description }}
            </p>
            <p class="product-description pt-4">
                <strong>Added by:</strong> {{ item.user.username }}
            </p>
        </li>
        {% endfor %}
    </ul>
    {% endif %}
    <h3 class="text-center pt-8 text-xl text-red-500">
        <strong>Menuku:</strong>
    </h3>
    {% if not my_items %}
        <h3 class="text-center pt-4">
            <strong>Kamu belum memasukkan menu!</strong>
        </h3>
    {% else %}
    <ul>
        {% for item in my_items %}
        <li>
            <img src="{{ item.image }}" alt="{{ item.name }}" class="fixed-image">
            <p class="pt-4">
            <strong>{{ item.name }}</strong>
            </p>
            <p class="text-red-500 font-bold">
                Rp{{ item.price }}.000
            </p>
            <p class="product-description pt-4">
                {{ item.description }}
            </p>
            <p class="product-description pt-4">
                <strong>Added by:</strong> {{ item.user.username }}
            </p>
                <div style="justify-content: center; text-align: center; display: flex; gap: 12px; margin-bottom: 20px" class="pt-4">
                    <a href="{% url 'home:edit_menu' item.pk %}">
                        <button  class="w-full px-10 py-2 text-white bg-orange-500 hover:bg-orange-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-600 focus:ring-opacity-50">
                            <strong>Ubah</strong>
                        </button>
                    </a>
                    <a href="{% url 'home:delete_item' item.pk %}">
                        <button class="w-full px-10 py-2 text-white bg-red-500 hover:bg-red-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">
                            <strong>Hapus</strong>
                        </button>
                    </a>
                </div>
        </li>
        {% endfor %}
    </ul>
    {% endif %}
    <div class="text-center pt-20">
        <h5>Username: {{ user.username }}</h5>
        <h5>Sesi terakhir login: {{ last_login }}</h5>
    </div>
</body>
{% endblock content %} 